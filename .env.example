# ============================================
# ShopSavvy Price Tracker - Environment Variables
# ============================================
# Copy this file to .env and fill in your actual values

# ============================================
# APPLICATION SETTINGS
# ============================================
NODE_ENV=development
PORT=3000
APP_BASE_URL=http://localhost:3000

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Set to 'true' to use Supabase, 'false' to use local SQLite
USE_SUPABASE=true

# Supabase Configuration (Get these from your Supabase project settings)
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# SQLite (fallback when USE_SUPABASE=false)
# Database file will be created at: ./database.sqlite

# ============================================
# AUTHENTICATION
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Session settings
SESSION_EXPIRY_HOURS=24

# ============================================
# MERCADO LIBRE API
# ============================================
# Get credentials from: https://developers.mercadolibre.com.mx/
MERCADO_LIBRE_App_ID=your-ml-app-id
MERCADO_LIBRE_Client_Secret=your-ml-client-secret
MERCADO_LIBRE_REDIRECT_URI=http://localhost:3000/auth/mercadolibre/callback

# ============================================
# AMAZON PRODUCT ADVERTISING API (PA-API 5.0)
# ============================================
# Get credentials from: https://affiliate-program.amazon.com/assoc_credentials/home
AMAZON_ACCESS_KEY=your-amazon-access-key
AMAZON_SECRET_KEY=your-amazon-secret-key
AMAZON_PARTNER_TAG=your-amazon-associate-tag
AMAZON_HOST=webservices.amazon.com.mx
AMAZON_REGION=us-east-1

# Amazon OAuth (for Sign in with Amazon)
AMAZON_CLIENT_ID=your-amazon-oauth-client-id
AMAZON_CLIENT_SECRET=your-amazon-oauth-client-secret
AMAZON_REDIRECT_URI=http://localhost:3000/auth/amazon/callback

# ============================================
# GOOGLE OAUTH 2.0
# ============================================
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# ============================================
# REDIS CONFIGURATION (for Bull Queue)
# ============================================
# Required for background price tracking jobs
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis Cloud / Render Redis (if using external Redis)
# REDIS_URL=redis://:password@host:port

# ============================================
# BACKGROUND WORKER SETTINGS
# ============================================
# Enable background price checking worker
ENABLE_PRICE_WORKER=true

# How often to check prices (in minutes)
PRICE_CHECK_INTERVAL_MINUTES=60

# Maximum concurrent price checks
PRICE_CHECK_CONCURRENCY=5

# Retry failed price checks
PRICE_CHECK_MAX_RETRIES=3

# ============================================
# EMAIL SETTINGS (for notifications)
# ============================================
# Email service for price drop alerts
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Sender email address
EMAIL_FROM=ShopSavvy <noreply@shopsavvy.com>

# ============================================
# RATE LIMITING & SECURITY
# ============================================
# Max requests per 15 minutes per IP
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000

# Enable CORS (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# ============================================
# LOGGING & MONITORING
# ============================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Enable detailed API logging
ENABLE_API_LOGGING=false

# ============================================
# FEATURE FLAGS
# ============================================
# Enable/disable features
ENABLE_AMAZON_INTEGRATION=false
ENABLE_GOOGLE_LOGIN=false
ENABLE_AMAZON_LOGIN=false
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_PRICE_ALERTS=true

# ============================================
# RENDER DEPLOYMENT (Production)
# ============================================
# These are automatically set by Render
# RENDER=true
# IS_PULL_REQUEST=false
